<ion-content class="ion-padding" [class.dark]="darkMode">
  <div class="form-container">
    <h2 class="form-title">Nuevo gasto</h2>

    <form [formGroup]="gastoForm" (ngSubmit)="crearGasto()" class="form-content">
      <div class="form-group">
        <label for="titulo">Nombre del gasto</label>
        <input type="text" id="titulo" formControlName="titulo" placeholder="Ej. Auriculares" />
        <div class="error-message" *ngIf="gastoForm.get('titulo')?.touched && gastoForm.get('titulo')?.errors">
          <span *ngIf="gastoForm.get('titulo')?.errors?.['required']">El título es obligatorio.</span>
        </div>
      </div>

      <div class="form-group">
        <label for="cantidad">Cantidad</label>
        <input type="number" id="cantidad" formControlName="cantidad" placeholder="Ej. 100" />
        <div class="error-message" *ngIf="gastoForm.get('cantidad')?.touched && gastoForm.get('cantidad')?.errors">
          <span *ngIf="gastoForm.get('cantidad')?.errors?.['required']">La cantidad es obligatoria.</span>
          <span *ngIf="gastoForm.get('cantidad')?.errors?.['min']">La cantidad debe ser mayor a 0.</span>
        </div>
      </div>

      <div class="form-group">
        <label for="categoria">Categoría</label>
        <select id="categoria" formControlName="categoria">
          <option value="ALOJAMIENTO">Alojamiento</option>
          <option value="COMIDA">Comida</option>
          <option value="TRANSPORTE">Transporte</option>
          <option value="ENTRETENIMIENTO">Entretenimiento</option>
          <option value="COMPRAS">Compras</option>
          <option value="ACTIVIDADES">Actividades</option>
          <option value="OTROS">Otros</option>
        </select>
        <div class="error-message" *ngIf="gastoForm.get('categoria')?.touched && gastoForm.get('categoria')?.errors">
          <span *ngIf="gastoForm.get('categoria')?.errors?.['required']">La categoría es obligatoria.</span>
        </div>
      </div>

      <div class="button-container">
        <ion-button type="submit" style="--background: #ffffff; --color: #5B97D5;" expand="block" [disabled]="gastoForm.invalid">
          Crear Gasto
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>
