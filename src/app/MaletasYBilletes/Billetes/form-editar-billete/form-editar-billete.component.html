<!-- Contenedor completo -->
<ion-card id="form-billete" class="billete-card" style="display: block;">
  <div class="billete-header">
    <ion-icon name="ticket-outline" class="billete-icon"></ion-icon>
    {{ nombreBillete || billete.nombre }}
  </div>

  <ion-card-content>
    <!-- Input de t√≠tulo -->
    <ion-item lines="none">
      <ion-label position="stacked">T√≠tulo</ion-label>
      <ion-input
        [(ngModel)]="nombreBillete"
        placeholder="Escribe el t√≠tulo que le quieras dar al Billete"
        type="text">
      </ion-input>
    </ion-item>

    <!-- Select de categor√≠a -->
    <ion-item lines="none" class="ion-margin-top">
      <ion-label position="stacked">Categor√≠a</ion-label>
      <ion-select
        placeholder="Elige la categor√≠a del Billete"
        [(ngModel)]="categoriaBillete">
        <ion-select-option value="AVION">Avi√≥n</ion-select-option>
        <ion-select-option value="TREN">Tren</ion-select-option>
        <ion-select-option value="AUTOBUS">Autob√∫s</ion-select-option>
        <ion-select-option value="BARCO">Barco</ion-select-option>
        <ion-select-option value="CONCIERTO">Concierto</ion-select-option>
        <ion-select-option value="MUSEO">Museo</ion-select-option>
        <ion-select-option value="EVENTO">Evento</ion-select-option>
        <ion-select-option value="OTRO">Otro</ion-select-option>
      </ion-select>
    </ion-item>

    <!-- √Årea de subida de PDF m√°s est√©tica -->
    <div class="pdf-upload-container ion-margin-top">
      <div *ngIf="!vistaPreviaPdfUrl" class="upload-content">
        <ion-icon name="cloud-upload-outline" class="upload-icon"></ion-icon>
        <ion-label class="upload-label">A√±ade el PDF del billete</ion-label>
      </div>

      <ion-button
        expand="block"
        class="upload-btn"
        (click)="seleccionarArchivoPdf()"
        color="secondary">
        <span *ngIf="!vistaPreviaPdfUrl">Seleccionar archivo PDF</span>
        <span *ngIf="vistaPreviaPdfUrl">Seleccionar otro archivo PDF</span>
      </ion-button>
      <input type="file" id="inputPdfBillete" hidden accept="application/pdf" (change)="cargarPdf($event)">

      <!-- Vista previa del PDF -->
      <div *ngIf="vistaPreviaPdfUrl" class="vista-previa-pdf ion-margin-top">
        <iframe
          [src]="vistaPreviaPdfUrl"
          class="iframe-pdf"
          frameborder="0">
        </iframe>
      </div>
    </div>


    <div *ngIf="nombreArchivoPdf" class="archivo-seleccionado">
      <ion-text color="medium">üìÑ {{ nombreArchivoPdf }}</ion-text>
    </div>

    <!-- Botones -->
    <div class="billete-footer">
      <ion-button fill="outline" color="primary" size="small" (click)="cancelar()">
        <ion-icon slot="start" name="close-circle"></ion-icon>
        Cancelar
      </ion-button>
      <ion-button fill="solid" color="primary" size="small" (click)="guardarBillete()">
        <ion-icon slot="start" name="checkmark-circle"></ion-icon>
        Ok
      </ion-button>
    </div>
  </ion-card-content>
</ion-card>


<style>
  ion-card-content {
    max-height: 70vh; /* Puedes ajustar este valor seg√∫n el dise√±o */
    overflow-y: auto;
    padding-right: 10px; /* Para evitar que el scroll tape el contenido */
  }

  .billete-card {
    margin: 20px auto;
    border-radius: 15px;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    max-width: 90%;
    width: 100%;
    background: #fff;
  }

  @media (max-width: 768px) {
    ion-card-content {
      max-height: 60vh;
    }
  }

  @media (min-width: 768px) {
    .billete-card {
      max-width: 800px;
    }
  }

  @media (min-width: 1200px) {
    .billete-card {
      max-width: 750px;
    }
  }

  .billete-header {
    background-color: #5B97D5;
    color: white;
    padding: 14px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
  }

  .billete-icon {
    font-size: 1.4rem;
  }

  .billete-footer {
    display: flex;
    justify-content: space-between;
    padding: 20px 0 0;
  }

  ion-button {
    --border-radius: 8px;
  }

  /* Estilo personalizado para subida de PDF */
  .pdf-upload-container {
    text-align: center;
    background-color: #f4f5f8;
    padding: 20px;
    border-radius: 12px;
    border: 2px dashed #d0d0d0;
    transition: background-color 0.3s ease;
  }

  .pdf-upload-container:hover {
    background-color: #e7eaf1;
  }

  .upload-icon {
    font-size: 2.5rem;
    color: #5B97D5;
    margin-bottom: 10px;
  }

  .upload-label {
    display: block;
    font-weight: 500;
    margin-bottom: 10px;
    color: #333;
  }

  .upload-btn {
    --border-radius: 10px;
    --box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }

  .archivo-seleccionado {
    margin-top: 10px;
    text-align: center;
    font-size: 0.95rem;
  }

  .vista-previa-pdf {
    margin-top: 15px;
    text-align: center;
  }

  .preview-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #444;
  }

  .iframe-pdf {
    width: 100%;
    height: 400px;
    border: 1px solid #ccc;
    border-radius: 10px;
  }

</style>
